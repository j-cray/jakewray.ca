# Project Plan: jakewray.dev Refactor (Rust/Leptos)

**Project Owner:** Jake Wray
**Methodology:** Vibe Coding (AI-Assisted, Compiler-Verified)
**Environment:** Google Antigravity (Project IDX) / NixOS
**Goal:** Replace legacy portfolio with a high-performance Rust/Leptos application to demonstrate Full Stack & Ops competency.

## Overview
This plan is designed for a solo developer leveraging multiple AI agents within a cloud-based IDE (Google IDX). The workflow emphasizes **AI for logic generation** and **Rust/Nix for safety and reproducibility**.

## Work Packages (OpenProject Ready)

| ID | Phase | Task Name | Description | Type | Priority | Status |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| **1.0** | **Infrastructure** | **Environment Setup** | Initialize Nix Flake `flake.nix` to define the dev shell (Rust, Cargo, Leptos, Tailwind). Ensure compatibility with IDX `dev.nix`. | Task | High | To Do |
| 1.1 | Infrastructure | IDX Configuration | Configure `.idx/dev.nix` to load the Nix environment and pre-install VS Code extensions (Rust Analyzer, Tailwind). | Task | High | To Do |
| 1.2 | Infrastructure | CI/CD Pipeline | Create `.github/workflows` or Forgejo Actions to run `nix build` and `cargo test` on push. | Task | High | To Do |
| 1.3 | Infrastructure | Repo Structure | Set up standard Rust workspace structure. Define `src/components`, `src/pages`, `src/api`. | Task | Normal | To Do |
| **2.0** | **Core Framework** | **Leptos Initialization** | Initialize Leptos project with SSR (Server Side Rendering) support for SEO. | Milestone | High | To Do |
| 2.1 | Core Framework | Routing Architecture | Implement `leptos_router`. Define routes: `/`, `/blog`, `/projects`, `/about`, `/resume`. | Task | High | To Do |
| 2.2 | Core Framework | State Management | Design global state using Leptos Signals/Context for theme toggling (Dark/Light) and data fetching. | Task | Normal | To Do |
| 2.3 | Core Framework | Tailwind Integration | Set up TailwindCSS with Rust build process (Trunk or Cargo-Leptos). | Task | Normal | To Do |
| **3.0** | **Features** | **Home Page** | Design and implement Hero section. "Vibe Coder" branding. | Feature | Normal | To Do |
| 3.1 | Features | Projects Showcase | Create data model for Projects. Implement Grid View component. Fetch data from JSON/TOML file or API. | Feature | High | To Do |
| 3.2 | Features | Blog Engine | Implement Markdown rendering pipeline. Create layout for Post List and Post Detail. | Feature | High | To Do |
| 3.3 | Features | Resume/CV | Interactive Resume page. Downloadable PDF option. | Feature | Normal | To Do |
| **4.0** | **AI & QA** | **Agent Test Suite** | Prompt AI agents to generate Unit Tests for all utility functions. Verify logic coverage. | Task | High | To Do |
| 4.1 | AI & QA | E2E Testing | Setup Playwright. Have AI write test scripts to verify navigation and critical user flows. | Task | Normal | To Do |
| 4.2 | AI & QA | Accessibility Audit | Use AI to scan component code for ARIA compliance and semantic HTML. | Task | Low | To Do |
| **5.0** | **Deployment** | **NixOS Deployment** | Create a NixOS module for the application service (Systemd). | Task | High | To Do |
| 5.1 | Deployment | Containerization | Build OCI Image using `nix build .#docker`. Push to registry. | Task | Normal | To Do |
| 5.2 | Deployment | Live Launch | Deploy to "Mercury" or Cloud VM. Configure Reverse Proxy (Nginx/Traefik) and SSL. | Milestone | High | To Do |

## Execution Strategy (AI-Augmented)

1.  **Planning (Human):** Define the "What" (this plan).
2.  **Scaffolding (AI):** Use IDX AI to generate boilerplate code for components based on the defined architecture.
3.  **Refinement (Human + Compiler):** Review AI code. Rely on Rust compiler to catch type errors.
4.  **Logic Check (AI):** Paste complex logic back into a separate AI context (e.g., Gemini Ultra) to ask "Find the logic bug in this function."
5.  **Commit:** Git commit with conventional messages.

## Risks & Mitigation
*   **Risk:** AI Hallucination in Rust syntax.
    *   *Mitigation:* Rust Analyzer in IDX will flag this immediately.
*   **Risk:** "Silent Failure" in Logic.
    *   *Mitigation:* Mandatory Unit Tests generated by a *second* AI agent (Adversarial Review).
*   **Risk:** Complexity Creep.
    *   *Mitigation:* Stick to MVP (Minimum Viable Portfolio).
